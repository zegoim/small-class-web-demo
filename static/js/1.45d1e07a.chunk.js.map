{"version":3,"sources":["routes/StudentRoom.tsx","utils/SilverRoom.ts","utils/getSearchQuery.ts","utils/liveRoomConfig.ts","../node_modules/react-uwp/TextBox/index.js"],"names":["revealEffect","silverRoom","SilverRoom","initSDK","appId","liveRoomConfig","signKey","search","getSearchQuery","userId","faker","uuid","roomId","currStudentRoomId","studentRoomId","studentRoomPrefix","StudentRoom","_React$Component","_getPrototypeOf2","_this","Object","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__","this","_len","arguments","length","args","Array","_key","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__","call","apply","concat","context","state","videoEl","teacherVideoEl","revealEls","remoteStudentVideos","getRooms","setState","roomList","Math","ceil","random","fill","map","zero","index","studentRooms","filter","room","includes","addRevealEffect","joinRoom","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","C_Work_small_class_web_demo_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","a","mark","_callee","streamList","wrap","_context","prev","next","join","sent","handleStreamsUpdate","slice","forEach","stream","playStream","streamId","stream_id","viewEl","stop","startConnect","_callee2","_context2","playTeacherStream","startPreview","isPlaying","publish","playTeacherStreamTimer","clearTimeout","setTimeout","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_8__","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__","key","value","_this2","_this$props","props","history","theme","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","_this$state","styles","style","prefixStyle","rowCenter","display","flexDirection","alignItems","justifyContent","columnCenter","root","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","left","top","width","height","tcVideo","position","objectFit","background","acrylicTexture60","stVideos","flex","marginLeft","margin","flexWrap","stVideo","border","baseLow","videoContent","cursor","transition","opacity","transform","videoContentBtm","bottom","stRooms","pointerEvents","padding","overflowY","acrylicTexture80","stRoom","lineHeight","color","acrylicTexture40","&:hover","chooseRoom","getStyles","classes","prepareStyles","react__WEBPACK_IMPORTED_MODULE_9__","assign","ref","el","push","autoPlay","onClick","react_uwp_Icon__WEBPACK_IMPORTED_MODULE_11___default","size","marginRight","children","marginTop","prefixUrl","replace","react_uwp_TextBox__WEBPACK_IMPORTED_MODULE_12___default","onChangeValue","react_uwp_Button__WEBPACK_IMPORTED_MODULE_13___default","alignSelf","React","contextTypes","PropTypes","_ZegoClient","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","_defaultCacheConfig","publishStreamId","playingStreamIds","enableLayerCodec","sdkIsInitial","appVersion","_cacheSDKConfig","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","_ref","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Work_small_class_web_demo_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","para","idName","nickName","zegoConfig","getLoginToken","userName","loginTokenUrl","appid","server","logLevel","logUrl","audienceCreateRoom","remoteLogLevel","testEnvironment","config","Promise","resolve","reject","fetch","method","then","res","text","catch","loginToken","console","error","abrupt","login","decodeURIComponent","_x","leave","logout","unInitSDK","stopPublish","stopPreview","stopPlayingStream","release","mediaStreamConstraints","success","publishViewEl","rej","ZegoClient","prototype","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","audio","audioInput","video","videoInput","videoQuality","horizontal","Date","now","pow","startPublishingStream","stopPublishingStream","code","startPlayingStream","playStreams","streams","stopPlayStream","indexOf","splice","stopPlayStreams","streamIds","onStreamUpdated","type","newStreamList","streamListIds","newStreamListIds","id","newStream","startIndex","playingIndex","getEventData","handleEventDataChange","setUserStateUpdate","C_Work_small_class_web_demo_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__","pattern","test","location","href","match","split","reduce","str","e","__webpack_require__","d","__webpack_exports__","__extends","extendStatics","setPrototypeOf","__proto__","b","p","hasOwnProperty","__","constructor","create","__assign","t","s","i","n","__rest","getOwnPropertySymbols","defineProperty","exports","emptyFunc","TextBox","_super","handleClick","hovered","handleHover","handleBlur","handleUnHover","focused","onBlur","handleFocus","onFocus","setValue","inputElm","getValue","render","_a","leftNode","hoverStyle","focusStyle","rightNode","className","textBoxStyle","_onChange","onChange","attributes","_b","haveChild","currBackground","altHigh","hoverProps","onMouseEnter","onMouseLeave","rootWrapperStyle","fontSize","baseHigh","boxShadow","accent","baseMedium","inlineStyles","input","paddingLeft","paddingRight","outline","normalRender","createElement","rootElm","classNames","currentTarget","defaultProps","object","Component","default"],"mappings":"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","file":"static/js/1.45d1e07a.chunk.js","sourcesContent":["import * as React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Icon from \"react-uwp/Icon\";\r\nimport TextBox from \"react-uwp/TextBox\";\r\nimport Button from \"react-uwp/Button\";\r\nimport { SilverRoom } from \"../utils/SilverRoom\";\r\nimport getSearchQuery from \"../utils/getSearchQuery\";\r\nimport { getRoomList } from \"../utils/getRoomList\";\r\nimport { liveRoomConfig } from \"../utils/liveRoomConfig\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport * as faker from \"faker\";\r\nimport * as revealEffect from \"reveal-effect\";\r\nimport { prefixUrl } from \"../utils/prefixUrl\";\r\n\r\nrevealEffect.createCanvas();\r\nconst silverRoom = new SilverRoom();\r\nsilverRoom.initSDK({ appId: liveRoomConfig.appId, signKey: liveRoomConfig.signKey });\r\nconst search = getSearchQuery();\r\nconst userId = faker.random.uuid();\r\nlet roomId: string = search.roomId;\r\nconst currStudentRoomId: string = search.studentRoomId;\r\nconst studentRoomPrefix = \"student-\";\r\n\r\nexport interface DataProps {}\r\n\r\nexport interface StudentRoomState {\r\n  isPlaying?: boolean;\r\n  studentRooms?: string[];\r\n  roomId: string;\r\n  currStudentRoomId?: string;\r\n}\r\nexport interface StudentRoomProps extends DataProps, React.HTMLAttributes<HTMLDivElement> {\r\n  history?: RouteComponentProps[\"history\"];\r\n}\r\n\r\nexport class StudentRoom extends React.Component<StudentRoomProps, StudentRoomState> {\r\n  static contextTypes = { theme: PropTypes.object };\r\n  context: { theme: ReactUWP.ThemeType };\r\n  state: StudentRoomState = {\r\n    roomId: search.roomId,\r\n    currStudentRoomId: currStudentRoomId\r\n  };\r\n  videoEl: HTMLVideoElement;\r\n  teacherVideoEl: HTMLVideoElement;\r\n  revealEls: HTMLElement[] = [];\r\n  remoteStudentVideos: HTMLVideoElement[] = [];\r\n\r\n  componentDidMount() {\r\n    // let data: any = await getRoomList();\r\n    // let data = {\r\n    //   code: 0,\r\n    //   data: {\r\n    //     room_list: []\r\n    //   }\r\n    // };\r\n    this.addRevealEffect();\r\n    this.getRooms();\r\n  }\r\n\r\n  getRooms = () => {\r\n    const search: any = getSearchQuery();\r\n    roomId = search.roomId;\r\n    if (search.studentRoomId) {\r\n      this.setState({ \r\n        roomId: search.roomId,\r\n        currStudentRoomId: search.studentRoomId\r\n      });\r\n      return;\r\n    }\r\n\r\n    const roomList = Array(8 + Math.ceil(Math.random() * 20)).fill(0).map((zero, index) => {\r\n      const roomId = faker.random.uuid();\r\n      return { roomId: `${studentRoomPrefix}${roomId}` };\r\n    });\r\n    \r\n    this.setState({\r\n      currStudentRoomId: search.studentRoomId,\r\n      studentRooms: roomList.filter(room => room.roomId.includes(studentRoomPrefix)).map(room => room.roomId)\r\n    });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    revealEffect.clearRevealEls();\r\n    this.addRevealEffect();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    revealEffect.clearRevealEls();\r\n  }\r\n\r\n  addRevealEffect = () => {\r\n    revealEffect.clearRevealItems();\r\n    revealEffect.addRevealEls(this.revealEls);\r\n  }\r\n\r\n  joinRoom = async () => {\r\n    const streamList = await silverRoom.join({ roomId: this.state.currStudentRoomId, userId });\r\n    silverRoom.handleStreamsUpdate = (streamList) => {\r\n      streamList.slice(0, 3).forEach((stream, index) => {\r\n        silverRoom.playStream({ streamId: stream.stream_id, viewEl: this.remoteStudentVideos[index] });\r\n      });\r\n    };\r\n\r\n    streamList.slice(0, 3).forEach((stream, index) => {\r\n      silverRoom.playStream({ streamId: stream.stream_id, viewEl: this.remoteStudentVideos[index] });\r\n    });\r\n  }\r\n\r\n  startConnect = async () => {\r\n    this.playTeacherStream();\r\n    await silverRoom.startPreview(this.videoEl);\r\n    this.setState({\r\n      isPlaying: true\r\n    });\r\n    this.joinRoom();\r\n    await silverRoom.publish(faker.random.uuid());\r\n  }\r\n\r\n  playTeacherStreamTimer = null;\r\n  playTeacherStream = () => {\r\n    const playSuccess = silverRoom.playStream({ streamId: `${roomId}-streamId`, viewEl: this.teacherVideoEl });\r\n    clearTimeout(this.playTeacherStreamTimer);\r\n    this.playTeacherStreamTimer = setTimeout(this.playTeacherStream, 1000);\r\n  }\r\n\r\n  render() {\r\n    this.revealEls = [];\r\n    this.remoteStudentVideos = [];\r\n    const { history, ...attributes } = this.props;\r\n    const { theme } = this.context;\r\n    const { isPlaying, studentRooms, currStudentRoomId } = this.state;\r\n    const styles = getStyles(this);\r\n    const classes = theme.prepareStyles({ styles });\r\n\r\n    return (\r\n      <div {...classes.root}>\r\n        <div {...classes.tcVideo} ref={el => this.revealEls.push(el)}>\r\n          <video\r\n            {...classes.tcVideo}\r\n            ref={teacherVideoEl => this.teacherVideoEl = teacherVideoEl}\r\n            autoPlay\r\n          />\r\n          <div {...classes.videoContentBtm} onClick={this.startConnect}>\r\n            <Icon size={14} style={{ marginRight: 12 }} children=\"ContactLegacy\" /> 教师\r\n          </div>\r\n        </div>\r\n        {currStudentRoomId ? (\r\n            <div {...classes.stVideos} ref={el => this.revealEls.push(el)}>\r\n              <div {...classes.stVideo}>\r\n                <video\r\n                  {...classes.stVideo}\r\n                  autoPlay\r\n                  ref={videoEl => this.videoEl = videoEl}\r\n                />\r\n                <div {...classes.videoContent} onClick={this.startConnect}>\r\n                  <Icon size={40} children=\"PlayLegacy\" />\r\n                  <p style={{ marginTop: 24 }}>开始音视频通讯</p>\r\n                </div>\r\n              </div>\r\n              <div {...classes.stVideo}>\r\n                <video\r\n                  {...classes.stVideo}\r\n                  autoPlay\r\n                  ref={el => this.remoteStudentVideos[0] = el}\r\n                />\r\n                <div {...classes.videoContentBtm} onClick={this.startConnect}>\r\n                  <Icon size={14} style={{ marginRight: 12 }} children=\"ContactLegacy\" /> 学生1\r\n                </div>\r\n              </div>\r\n              <div {...classes.stVideo}>\r\n                <video\r\n                  {...classes.stVideo}\r\n                  autoPlay\r\n                  ref={el => this.remoteStudentVideos[1] = el}\r\n                />\r\n                <div {...classes.videoContentBtm} onClick={this.startConnect}>\r\n                  <Icon size={14} style={{ marginRight: 12 }} children=\"ContactLegacy\" /> 学生2\r\n                </div>\r\n              </div>\r\n              <div {...classes.stVideo}>\r\n                <video\r\n                  {...classes.stVideo}\r\n                  autoPlay\r\n                  ref={el => this.remoteStudentVideos[2] = el}\r\n                />\r\n                <div {...classes.videoContentBtm} onClick={this.startConnect}>\r\n                  <Icon size={14} style={{ marginRight: 12 }} children=\"ContactLegacy\" /> 学生3\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div {...classes.chooseRoom} ref={el => this.revealEls.push(el)}>\r\n              <p>选择已有小班：</p>\r\n              <div {...classes.stRooms}>\r\n                {studentRooms && studentRooms.map((roomId, index) => (\r\n                  <div\r\n                    {...classes.stRoom}\r\n                    ref={el => this.revealEls.push(el)}\r\n                    key={roomId}\r\n                    onClick={() => {\r\n                      history.push(`${prefixUrl}StudentRoomWithStudent` + `?roomId=${search.roomId}&studentRoomId=${roomId}`);\r\n                    }}\r\n                  >\r\n                    {roomId.replace(studentRoomPrefix, \"\")}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <p>进入小班：</p>\r\n              <TextBox\r\n                style={{ width: \"100%\", margin: \"8px 0\" }}\r\n                onChangeValue={currStudentRoomId => this.state.currStudentRoomId = `${studentRoomPrefix}${currStudentRoomId}`}\r\n              />\r\n              <Button\r\n                style={{ alignSelf: \"flex-end\" }}\r\n                onClick={() => {\r\n                  if (this.state.currStudentRoomId) {\r\n                      history.push(`${prefixUrl}StudentRoomWithStudent` + `?roomId=${search.roomId}&studentRoomId=${this.state.currStudentRoomId}`);\r\n                  }\r\n                }}\r\n              >\r\n                确定\r\n              </Button>\r\n            </div>\r\n          )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction getStyles(StudentRoom: StudentRoom) {\r\n  const {\r\n    context: { theme },\r\n    props: { style },\r\n    state: { isPlaying }\r\n  } = StudentRoom;\r\n  const { prefixStyle } = theme;\r\n\r\n  const rowCenter = {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  } as React.CSSProperties;\r\n  const columnCenter = {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  } as React.CSSProperties;\r\n\r\n  return {\r\n    rowCenter: prefixStyle(rowCenter),\r\n    columnCenter: prefixStyle(columnCenter),\r\n    root: prefixStyle({\r\n      ...rowCenter,\r\n      left: 0,\r\n      top: 0,\r\n      width: \"100vw\",\r\n      height: \"100vh\",\r\n      ...style\r\n    }),\r\n    tcVideo: prefixStyle({\r\n      position: \"relative\",\r\n      objectFit: \"cover\",\r\n      width: 600,\r\n      height: 600,\r\n      background: theme.acrylicTexture60.background\r\n    }),\r\n    stVideos: prefixStyle({\r\n      flex: \"0 0 auto\",\r\n      marginLeft: 20,\r\n      // border: `1px solid ${theme.baseLow}`,\r\n      width: 600,\r\n      height: 600,\r\n      margin: 20,\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"flex-start\",\r\n      justifyContent: \"space-around\",\r\n      flexWrap: \"wrap\",\r\n    }),\r\n    stVideo: prefixStyle({\r\n      position: \"relative\",\r\n      objectFit: \"cover\",\r\n      width: 299,\r\n      height: 299,\r\n      border: `1px solid ${theme.baseLow}`,\r\n      background: theme.acrylicTexture60.background\r\n    }),\r\n    videoContent: prefixStyle({\r\n      cursor: \"pointer\",\r\n      ...columnCenter,\r\n      position: \"absolute\",\r\n      transition: \"all .25s 0s ease-in-out\",\r\n      left: 0,\r\n      top: 0,\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      opacity: isPlaying ? 0 : 1,\r\n      transform: `scale(${isPlaying ? 0 : 1})`,\r\n    }),\r\n    videoContentBtm: prefixStyle({\r\n      ...rowCenter,\r\n      position: \"absolute\",\r\n      transition: \"all .25s 0s ease-in-out\",\r\n      width: \"100%\",\r\n      left: 0,\r\n      bottom: 18\r\n    }),\r\n    stRooms: prefixStyle({\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      pointerEvents: \"all\",\r\n      width: \"100%\",\r\n      height: 360,\r\n      margin: \"18px 0\",\r\n      padding: \"4px 0\",\r\n      overflowY: \"auto\",\r\n      background: theme.acrylicTexture80.background\r\n    }),\r\n    stRoom: prefixStyle({\r\n      width: \"100%\",\r\n      height: 48,\r\n      flex: \"0 0 auto\",\r\n      lineHeight: \"48px\",\r\n      margin: \"4px 0\",\r\n      padding: \"0 8px\",\r\n      cursor: \"pointer\",\r\n      color: \"#fff\",\r\n      transition: \"all .25s 0s ease-in-out\",\r\n      background: theme.acrylicTexture40.background,\r\n      \"&:hover\": {\r\n        // background: theme.accent\r\n      }\r\n    }),\r\n    chooseRoom: prefixStyle({\r\n      padding: \"20px 40px\",\r\n      marginLeft: 20,\r\n      // border: `1px solid ${theme.baseLow}`,\r\n      width: 600,\r\n      height: 600,\r\n      margin: 20,\r\n      background: theme.acrylicTexture60.background,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"flex-start\",\r\n    })\r\n  };\r\n}\r\n\r\nexport default StudentRoom;\r\n","import { ZegoClient } from \"webrtc-zego\";\r\nimport { MediaStreamConstraints, Config, StreamInfo } from \"webrtc-zego/sdk/common/zego.entity\";\r\n\r\ninterface SilverRoomCache {\r\n  appId: number;\r\n  signKey?: number[];\r\n\r\n  roomId?: string;\r\n  userId?: string;\r\n  publishStreamId: string;\r\n\r\n  loginToken: string;\r\n  loginTokenUrl?: string;\r\n  userName?: string;\r\n  streamList: StreamInfo[];\r\n  playingStreamIds: string[];\r\n\r\n  enableLayerCodec?: boolean;\r\n  sdkIsInitial?: boolean;\r\n  appVersion?: \"国内版\" | \"国际版\";\r\n  publishViewEl: HTMLVideoElement;\r\n}\r\n\r\nexport class SilverRoom extends ZegoClient {\r\n  _defaultCacheConfig: SilverRoomCache = {\r\n    publishStreamId: \"\",\r\n    streamList: [],\r\n    playingStreamIds: [],\r\n    enableLayerCodec: false,\r\n    sdkIsInitial: false,\r\n    appVersion: \"国内版\"\r\n  } as any;\r\n\r\n  _cacheSDKConfig: SilverRoomCache = {\r\n    ...this._defaultCacheConfig\r\n  } as SilverRoomCache;\r\n\r\n  constructor() {\r\n    super();\r\n    this.setUserStateUpdate(true);\r\n  }\r\n\r\n  /**\r\n   * 初始化 SDK\r\n   * \r\n   * @param  {{appId:number;signKey:number[];}} para?\r\n   * @param {para.appId} 获取的 appId\r\n   * @param {para.signKey} 获取的 signKey\r\n   */\r\n  initSDK(para: { appId: number; signKey: number[]; }) {\r\n    this._cacheSDKConfig.appId = para.appId;\r\n    this._cacheSDKConfig.signKey = para.signKey;\r\n  }\r\n\r\n  /**\r\n   * 加入音视频房间\r\n   * \r\n   * @param  {{roomId:string;userId?:string;userName?:string;}} para\r\n   */\r\n  join = async (para: { roomId: string; userId: string; userName?: string; }) => {\r\n    this._cacheSDKConfig.roomId = para.roomId;\r\n    const idName = para.userId;\r\n    this._cacheSDKConfig.userId = idName;\r\n    const nickName = para.userName || para.userId;\r\n    this._cacheSDKConfig.userName = nickName;\r\n\r\n    this._cacheSDKConfig.loginTokenUrl = this._cacheSDKConfig.appVersion === \"国内版\" ? `https://wsliveroom${this._cacheSDKConfig.appId}-api.zego.im:8282/token` : `https://wsliveroom${this._cacheSDKConfig.appId}-api.zegocloud.com:8282/token`;\r\n    const zegoConfig: Config = {\r\n      appid: this._cacheSDKConfig.appId,\r\n      server: this._cacheSDKConfig.appVersion === \"国内版\" ? `wss://wsliveroom${this._cacheSDKConfig.appId}-api.zego.im:8282/ws` : `wss://wsliveroom${this._cacheSDKConfig.appId}-api.zegocloud.com:8282/ws`,\r\n      idName,\r\n      nickName,\r\n      logLevel: 3,\r\n      logUrl: \"\",\r\n      audienceCreateRoom: true,\r\n      remoteLogLevel: 0,\r\n      testEnvironment: false\r\n    };\r\n    this.config(zegoConfig);\r\n\r\n    const getLoginToken = () => {\r\n      return new Promise((resolve, reject) => {\r\n        fetch(`${this._cacheSDKConfig.loginTokenUrl}?app_id=${this._cacheSDKConfig.appId}&id_name=${this._cacheSDKConfig.userId}`, {\r\n          method: \"GET\"\r\n        })\r\n        .then(res => {\r\n          if (typeof res === \"string\") {\r\n            resolve(res as string);\r\n          } else {\r\n            res.text().then((text: any) => {\r\n              resolve(text as string);\r\n            });\r\n          }\r\n          return res;\r\n        })\r\n        .catch(reject);\r\n      });\r\n    };\r\n\r\n    if (!this._cacheSDKConfig.loginToken) {\r\n      this._cacheSDKConfig.loginToken = await getLoginToken() as string;\r\n    }\r\n\r\n    console.error(this._cacheSDKConfig.loginToken);\r\n    return new Promise((resolve, reject) => {\r\n      this.login(decodeURIComponent(para.roomId), 2, this._cacheSDKConfig.loginToken, streamList => {\r\n        this.publish(this._cacheSDKConfig.publishStreamId);\r\n        this._cacheSDKConfig.streamList = streamList;\r\n        resolve(streamList);\r\n        if (this.handleStreamsUpdate) {\r\n          this.handleStreamsUpdate(streamList);\r\n        }\r\n      }, reject);\r\n    }) as Promise<StreamInfo[]>;\r\n  }\r\n\r\n  /** 离开房间\r\n   */\r\n  leave = () => {\r\n    return this.logout();\r\n  }\r\n\r\n  /** 反初始化 SDK\r\n   */\r\n  unInitSDK = () => {\r\n    this.stopPublish();\r\n    this.stopPreview();\r\n    this.leave();\r\n    this._cacheSDKConfig.streamList.forEach((stream, index) => {\r\n      this.stopPlayingStream(stream.stream_id);\r\n    });\r\n\r\n    this._cacheSDKConfig = { ...this._defaultCacheConfig };\r\n    if (this.handleStreamsUpdate) {\r\n      this.handleStreamsUpdate(this._cacheSDKConfig.streamList);\r\n    }\r\n\r\n    this.release();\r\n  }\r\n\r\n  /**\r\n   * 开始预览摄像头\r\n   * \r\n   * @param  {HTMLVideoElement} viewEl 设置 video 元素预览\r\n   * @param  {MediaStreamConstraints} mediaStreamConstraints? 媒体配置信息\r\n   * @param  {()=>void} success? 成功回调\r\n   * @param  {()=>void} error?失败回调\r\n   */\r\n  startPreview: any = (viewEl: HTMLVideoElement, mediaStreamConstraints?: MediaStreamConstraints, success?: ()=> void, error?: () => void ): any => {\r\n    this._cacheSDKConfig.publishViewEl = viewEl;\r\n    return new Promise((res, rej) => {\r\n      ZegoClient.prototype.startPreview.call(this, viewEl, {\r\n        audio: true,\r\n        audioInput: null,\r\n        video: true,\r\n        videoInput: null,\r\n        videoQuality: 2,\r\n        horizontal: true,\r\n        ...mediaStreamConstraints\r\n      }, res, rej);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 停止预览\r\n   * \r\n   * @param  {HTMLVideoElement} viewEl? HTMLVideoElement\r\n   */\r\n  stopPreview = (viewEl?: HTMLElement) => {\r\n    return ZegoClient.prototype.stopPreview.call(this, viewEl || this._cacheSDKConfig.publishViewEl);\r\n  }\r\n\r\n  /**\r\n   * 开始推流\r\n   * \r\n   * @param  {string} streamId? 设置推流 id\r\n   */\r\n  publish = (streamId?: string) => {\r\n    this._cacheSDKConfig.publishStreamId = streamId || `${Date.now()}-${Math.ceil(Math.random() * Math.pow(10, 8))}`;\r\n    this.startPublishingStream(this._cacheSDKConfig.publishStreamId, this._cacheSDKConfig.publishViewEl);\r\n  }\r\n\r\n\r\n  /**\r\n   * 停止推流\r\n   */\r\n  stopPublish = () => {\r\n    this.stopPublishingStream(this._cacheSDKConfig.publishStreamId);\r\n  }\r\n\r\n  /**\r\n   * 播放音视频流\r\n   * \r\n   * @param {{viewEl:HTMLCanvasElement|HTMLVideoElement,streamId:string}} stream 流对象\r\n   * @param {HTMLCanvasElement|HTMLVideoElement} stream.viewEl - 播放音视频的元素\r\n   * @param {string} stream.streamId - 播放音视频的流 id\r\n   */\r\n  playStream = (stream: { viewEl: HTMLCanvasElement | HTMLVideoElement, streamId: string }) => {\r\n    const code = this.startPlayingStream(stream.streamId, stream.viewEl);\r\n    if (!this._cacheSDKConfig.playingStreamIds.includes(stream.streamId)) {\r\n      this._cacheSDKConfig.playingStreamIds.push(stream.streamId);\r\n    }\r\n    return code;\r\n  }\r\n  /**\r\n   * 播放一组音视频流\r\n   * \r\n   * @param  {{viewEl:HTMLCanvasElement|HTMLVideoElement,streamId: string}} streams\r\n   */\r\n  playStreams = (streams: { viewEl: HTMLCanvasElement | HTMLVideoElement, streamId: string; }[]) => {\r\n    streams.forEach(stream => this.playStream(stream));\r\n  }\r\n  \r\n  /**\r\n   * 停止播放音视频流\r\n   * \r\n   * @param  {{streamId:string;}} stream 使用流 id 数组来停止播放流列表\r\n   */\r\n  stopPlayStream = (stream: { streamId: string; }) => {\r\n    this.stopPlayingStream(stream.streamId);\r\n    const index = this._cacheSDKConfig.playingStreamIds.indexOf(stream.streamId)\r\n    if (index > -1) {\r\n      this._cacheSDKConfig.playingStreamIds.splice(index, -1);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 停止播放一组流音视频\r\n   * \r\n   * @param  {string[]} streamListIds\r\n   */\r\n  stopPlayStreams = (streamIds: string[]) => {\r\n    streamIds.forEach(streamId => {\r\n      this.stopPlayStream({ streamId: streamId });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 流更新回调函数\r\n   * \r\n   * @param  {number} type? 增加为0，减少为1\r\n   * @param  {StreamInfo[]} newStreamList? 新的音视频流\r\n   */\r\n  onStreamUpdated = (type?: number, newStreamList?: StreamInfo[]) => {\r\n    const { streamList } = this._cacheSDKConfig;\r\n    const streamListIds = streamList.map(stream => stream.stream_id);\r\n    const newStreamListIds = newStreamList ? newStreamList.map(stream => stream.stream_id) : [];\r\n    if (type === 0) {\r\n      newStreamListIds.forEach((id, index) => {\r\n        if (!streamListIds.includes(id)) {\r\n          let newStream = newStreamList ? newStreamList[index] : null;\r\n          if (newStream) {\r\n            streamList.push(newStream);\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      newStreamListIds.forEach((id, index) => {\r\n        const startIndex = streamListIds.indexOf(id);\r\n        if (startIndex > -1) {\r\n          this.stopPlayingStream(id);\r\n          streamList.splice(startIndex, 1);\r\n          const playingIndex = this._cacheSDKConfig.playingStreamIds.indexOf(id);\r\n          if (playingIndex > -1) {\r\n            this._cacheSDKConfig.playingStreamIds.splice(playingIndex, 1);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    if (this.handleStreamsUpdate) {\r\n      this.handleStreamsUpdate(streamList);\r\n    }\r\n  };\r\n  \r\n  /**\r\n   * 当覆盖 onStreamUpdate 时，此函数无法调用\r\n   * \r\n   * @param  {{stream_id:string;[key:string]:any;}[]} streamList\r\n   */\r\n  handleStreamsUpdate = (streamList: { stream_id: string; [key: string]: any; }[]) => {};\r\n\r\n  getEventData = (key: string) => {}\r\n\r\n  handleEventDataChange = (key: string) => {\r\n    return {};\r\n  }\r\n}\r\n","declare var location: any;\r\n\r\nexport function getSearchQuery() {\r\n  const pattern = /\\?([^=]+\\=[^\\=]*\\&?)*$/g;\r\n  if (pattern.test(location.href)) {\r\n    const res = (location as any).href.match(pattern)[0];\r\n    return res ? res.slice(1).split(\"&\").reduce((prev: any, next: any) => {\r\n      const str = next.match(/([^=]+)\\=(.+)/);\r\n      try {\r\n        prev[str[1]] = decodeURIComponent(str[2]);\r\n      } catch (e) {\r\n        prev[str[1]] = str[2];\r\n      }\r\n      return prev;\r\n    }, {} as any) : {};\r\n  }\r\n\r\n  return {};\r\n}\r\n\r\nexport default getSearchQuery;\r\n","export const liveRoomConfig = {\r\n  appId: 1082937486,\r\n  signKey: [0x60, 0x25, 0xbf, 0x4c, 0xe1, 0x10, 0x42, 0xda, 0x3a, 0xa0, 0xf6, 0xab, 0xf8, 0x14, 0x9e, 0xcc, 0x48, 0x8a, 0x34, 0x08, 0x45, 0xac, 0x60, 0x77, 0x25, 0x1c, 0x00, 0x63, 0x4b, 0xc6, 0xd6, 0x9a]\r\n};\r\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) {\n      if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n  }\n\n  return t;\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar PropTypes = require(\"prop-types\");\n\nvar emptyFunc = function emptyFunc() {};\n\nvar TextBox =\n/** @class */\nfunction (_super) {\n  __extends(TextBox, _super);\n\n  function TextBox() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {};\n\n    _this.handleClick = function (e) {\n      _this.setState({\n        hovered: false\n      });\n    };\n\n    _this.handleHover = function (e) {\n      _this.setState({\n        hovered: true\n      });\n\n      _this.handleBlur = function () {};\n    };\n\n    _this.handleUnHover = function (e) {\n      _this.setState({\n        hovered: false\n      });\n\n      _this.handleBlur = function (e) {\n        _this.setState({\n          focused: false\n        });\n\n        _this.props.onBlur(e);\n      };\n    };\n\n    _this.handleFocus = function (e) {\n      _this.setState({\n        focused: true\n      });\n\n      _this.props.onFocus(e);\n    };\n\n    _this.handleBlur = function (e) {\n      _this.setState({\n        focused: false\n      });\n\n      _this.props.onBlur(e);\n    };\n\n    _this.setValue = function (value) {\n      return _this.inputElm.value = value;\n    };\n\n    _this.getValue = function () {\n      return _this.inputElm.value;\n    };\n\n    return _this;\n  }\n\n  TextBox.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        hoverStyle = _a.hoverStyle,\n        focusStyle = _a.focusStyle,\n        leftNode = _a.leftNode,\n        rightNode = _a.rightNode,\n        style = _a.style,\n        className = _a.className,\n        textBoxStyle = _a.textBoxStyle,\n        _onChange = _a.onChange,\n        onChangeValue = _a.onChangeValue,\n        children = _a.children,\n        background = _a.background,\n        attributes = __rest(_a, [\"hoverStyle\", \"focusStyle\", \"leftNode\", \"rightNode\", \"style\", \"className\", \"textBoxStyle\", \"onChange\", \"onChangeValue\", \"children\", \"background\"]);\n\n    var _b = this.state,\n        hovered = _b.hovered,\n        focused = _b.focused;\n    var haveChild = leftNode || rightNode || children;\n    var theme = this.context.theme;\n    var currBackground = background === void 0 ? theme.altHigh : background;\n    var hoverProps = {\n      onMouseEnter: this.handleHover,\n      onMouseLeave: this.handleUnHover\n    };\n    var rootWrapperStyle = {\n      lineHeight: \"32px\",\n      height: 32,\n      width: 296,\n      padding: !haveChild ? \"0 8px\" : 0,\n      fontSize: 14,\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      color: focused ? \"#000\" : theme.baseHigh,\n      background: focused ? \"#fff\" : currBackground || \"none\",\n      boxShadow: focused ? \"inset 0px 0px 0 2px \" + this.context.theme.accent : hovered ? \"inset 0px 0px 0 2px \" + theme.baseMedium : \"inset 0px 0px 0 2px \" + theme.baseLow,\n      border: \"none\",\n      transition: \"all .25s\"\n    };\n    var inlineStyles = {\n      root: haveChild ? theme.prefixStyle(__assign({}, rootWrapperStyle, style)) : {},\n      input: theme.prefixStyle(__assign({}, haveChild ? {\n        paddingLeft: rightNode ? 8 : void 0,\n        paddingRight: leftNode ? 8 : void 0,\n        width: \"100%\",\n        height: \"100%\",\n        background: \"none\",\n        border: \"none\",\n        outline: \"none\",\n        color: \"inherit\",\n        transition: \"all .25s\"\n      } : rootWrapperStyle, haveChild ? void 0 : style, textBoxStyle))\n    };\n    var styles = theme.prepareStyles({\n      className: \"text-box\",\n      styles: inlineStyles\n    });\n    var normalRender = React.createElement(\"input\", __assign({\n      ref: function ref(inputElm) {\n        _this.inputElm = inputElm;\n        if (!haveChild) _this.rootElm = inputElm;\n      }\n    }, attributes, {\n      style: styles.input.style,\n      className: theme.classNames(className, styles.input.className),\n      onChange: function onChange(e) {\n        onChangeValue(e.currentTarget.value);\n\n        _onChange(e);\n      },\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur\n    }, haveChild ? void 0 : hoverProps));\n    return haveChild ? React.createElement(\"div\", __assign({\n      ref: function ref(rootElm) {\n        return _this.rootElm = rootElm;\n      }\n    }, attributes, hoverProps, styles.root, {\n      onClick: this.handleClick\n    }), leftNode, normalRender, children, rightNode) : normalRender;\n  };\n\n  TextBox.defaultProps = {\n    background: \"none\",\n    textBoxStyle: {\n      fontSize: \"inherit\",\n      outline: \"none\",\n      transition: \"all .25s\"\n    },\n    onFocus: emptyFunc,\n    onBlur: emptyFunc,\n    onChange: emptyFunc,\n    onChangeValue: emptyFunc\n  };\n  TextBox.contextTypes = {\n    theme: PropTypes.object\n  };\n  return TextBox;\n}(React.Component);\n\nexports.TextBox = TextBox;\nexports.default = TextBox;"],"sourceRoot":""}